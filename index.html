<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business 360 - PNC Bank Cash Flow Management</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <button class="hamburger" id="hamburgerBtn" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1 class="nav-title">Business 360</h1>
            <div class="notification-badge" id="notificationBadge"></div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h2>PNC Business</h2>
                <button class="close-sidebar" id="closeSidebar">&times;</button>
            </div>
            <ul class="sidebar-menu">
                <li class="menu-item active">
                    <span class="menu-icon">üìä</span>
                    <span class="menu-text">Business 360</span>
                </li>
                <li class="menu-item">
                    <span class="menu-icon">üè†</span>
                    <span class="menu-text">Dashboard</span>
                </li>
                <li class="menu-item">
                    <span class="menu-icon">üí≥</span>
                    <span class="menu-text">Payments</span>
                </li>
                <li class="menu-item">
                    <span class="menu-icon">üìà</span>
                    <span class="menu-text">Reports</span>
                </li>
                <li class="menu-item">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span class="menu-text">Settings</span>
                </li>
            </ul>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section - Combined Layout -->
        <section class="hero-section" id="heroSection">
            <!-- Account Filter Badge -->
            <div class="account-filter">
                <div class="filter-badge">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%2321808D'%3E%3Ctext x='12' y='16' text-anchor='middle' font-size='14' font-weight='bold'%3EPNC%3C/text%3E%3C/svg%3E" alt="PNC Logo" class="bank-logo">
                    <span>PNC Bank Only</span>
                    <button class="info-icon" id="infoIcon" aria-label="Account connection information">‚ìò</button>
                </div>
                <div class="last-updated">Last updated: 2m</div>
            </div>

            <!-- Main Content Area - Chart + Insights -->
            <div class="main-dashboard-container">
                <!-- Left Side - Cash Flow Chart (75%) -->
                <div class="chart-section">
                    <div class="chart-header">
                        <div class="chart-title-section">
                            <h2>Income & Expenses</h2>
                            <div class="chart-period">Jan 1, 2024 - Oct 30, 2024 <button class="change-period-btn">Change</button></div>
                        </div>
                        
                        <!-- Chart Legend with AI Button -->
                        <div class="legend-container">
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <span class="legend-color cash-line"></span>
                                    <span>Cash on Hand</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color projections-line"></span>
                                    <span>PNC Bank Projections</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color income-bar"></span>
                                    <span>Total Income</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color expenses-bar"></span>
                                    <span>Total Expenses</span>
                                </div>
                            </div>
                            
                            <!-- AI Prompt Icon -->
                            <button class="ai-prompt-btn" id="aiPromptBtn" aria-label="Ask AI about this chart">
                                <img src="icons/ai.png" alt="AI Assistant" class="ai-icon">
                            </button>
                        </div>
                    </div>
                    
                    <div class="chart-wrapper">
                        <canvas id="cashFlowChart" aria-label="Income and expenses with cash flow chart"></canvas>
                    </div>
                    
                    <!-- Summary Stats -->
                    <div class="chart-summary">
                        <div class="summary-item">
                            <div class="summary-label">Beginning Total Cash on Hand</div>
                            <div class="summary-value cash">84,849.11</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total Income</div>
                            <div class="summary-value income">701,692.09</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total Expenses</div>
                            <div class="summary-value expenses">711,852.33</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Ending Total Cash on Hand</div>
                            <div class="summary-value cash">74,688.87</div>
                        </div>
                    </div>
                    
                    <!-- Monthly Averages -->
                    <div class="monthly-averages">
                        <h4>Monthly Averages</h4>
                        <div class="avg-stats">
                            <span class="avg-item cash">104,084.51</span>
                            <span class="avg-item income">70,169.21</span>
                            <span class="avg-item expenses">71,185.23</span>
                            <span class="avg-item cash">103,068.49</span>
                        </div>
                    </div>
                    
                    <!-- Time Period Selector -->
                    <div class="time-selector">
                        <button class="time-pill" data-period="7">7D</button>
                        <button class="time-pill active" data-period="30">30D</button>
                        <button class="time-pill" data-period="90">90D</button>
                        <button class="time-pill" data-period="365">1Y</button>
                    </div>
                </div>

                <!-- Right Side - Insights Panel (25%) -->
                <div class="insights-sidebar">
                    <div class="insights-header">
                        <h3>Insights</h3>
                        <a href="#" class="view-all-link">View All ‚Üí</a>
                    </div>
                    
                    <div class="insights-container">
                        <div class="insight-card warning hyper-personalized-insight" style="display: none;" data-insight="holiday-surge">
                            <div class="insight-icon">üìà</div>
                            <div class="insight-content">
                                <h4>Holiday Season Cash Surge</h4>
                                <p>National retail spending forecasts + local ZIP code foot traffic data ‚Üí Action: Transfer $10K from Wells Fargo to PNC for inventory</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="detail-actions">
                                    <button class="action-btn primary">Transfer Now</button>
                                    <button class="action-btn secondary">Dismiss</button>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card info hyper-personalized-insight" style="display: none;" data-insight="competitor-threat">
                            <div class="insight-icon">üéØ</div>
                            <div class="insight-content">
                                <h4>Competitor Expansion Threat</h4>
                                <p>Target store opening 0.3 miles away + category overlap analysis ‚Üí Strategy: Double down on customer experience, local brands</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="detail-actions">
                                    <button class="action-btn primary">Analyze Strategy</button>
                                    <button class="action-btn secondary">Dismiss</button>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card warning hyper-personalized-insight" style="display: none;" data-insight="weather-forecast">
                            <div class="insight-icon">üå®Ô∏è</div>
                            <div class="insight-content">
                                <h4>Weather-Driven Demand Forecast</h4>
                                <p>NOAA winter predictions + historical snow-sales correlation ‚Üí Action: Order $8,500 winter inventory by Nov 12</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="detail-actions">
                                    <button class="action-btn primary">Place Order</button>
                                    <button class="action-btn secondary">Dismiss</button>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card warning" data-insight="low-balance">
                            <div class="insight-icon">‚ö†Ô∏è</div>
                            <div class="insight-content">
                                <h4>Low balance detected</h4>
                                <p>Your checking balance ($8,420) is below your typical minimum. Consider moving $5,000 from savings.</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="detail-actions">
                                    <button class="action-btn primary">Transfer Now</button>
                                    <button class="action-btn secondary">Dismiss</button>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card positive" data-insight="trending-up">
                            <div class="insight-icon">üìà</div>
                            <div class="insight-content">
                                <h4>Balance trending up</h4>
                                <p>Your average daily balance is 15% higher than last month ($38,200 vs $33,200). Great cash management!</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="comparison-chart">
                                    <div class="bar-chart">
                                        <div class="bar prev-month" style="height: 60%;">
                                            <span class="bar-label">Last Month: $33,200</span>
                                        </div>
                                        <div class="bar current-month" style="height: 100%;">
                                            <span class="bar-label">This Month: $38,200</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card info" data-insight="upcoming-payments">
                            <div class="insight-icon">üí≥</div>
                            <div class="insight-content">
                                <h4>Upcoming payments</h4>
                                <p>You have 3 scheduled payments totaling $12,500 in the next 7 days.</p>
                            </div>
                            <button class="expand-btn" aria-label="Expand insight details">‚Ä∫</button>
                            <div class="insight-details">
                                <div class="payment-schedule">
                                    <div class="payment-item">
                                        <span class="payment-date">Nov 10</span>
                                        <span class="payment-desc">Supplier invoice</span>
                                        <span class="payment-amount">$8,000</span>
                                    </div>
                                    <div class="payment-item">
                                        <span class="payment-date">Nov 12</span>
                                        <span class="payment-desc">Payroll</span>
                                        <span class="payment-amount">$4,200</span>
                                    </div>
                                    <div class="payment-item">
                                        <span class="payment-date">Nov 14</span>
                                        <span class="payment-desc">Rent</span>
                                        <span class="payment-amount">$300</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Upgrade CTA Banner -->
        <section class="upgrade-cta" id="upgradeCta">
            <div class="cta-content">
                <div class="cta-icon">‚ú®</div>
                <h3>Take Your Business to the Next Level</h3>
                <p>Unlock hyper-personalized insights by connecting all your business accounts. Get AI-powered forecasting, fraud detection across all banks, and consolidated cash visibility‚Äînot just PNC.</p>
                
                <div class="benefits-list">
                    <div class="benefit-item">Consolidate cash from Chase, Wells Fargo, Bank of America, and other top banks</div>
                    <div class="benefit-item">AI predicts cash flow 30-90 days ahead with 95% accuracy</div>
                    <div class="benefit-item">Identify fraud patterns across ALL accounts, not just one bank</div>
                    <div class="benefit-item">Real-time alerts when balances drop across your entire cash position</div>
                </div>

                <button class="connect-banks-btn" id="connectBanksBtn" aria-label="Connect additional bank accounts to unlock premium features">
                    üîó Connect Additional Bank Accounts ‚Üí
                </button>
                
                <a href="#" class="learn-more-link">Learn more about premium features ‚Üí</a>
            </div>
            <button class="dismiss-cta" id="dismissCta" aria-label="Dismiss upgrade banner">&times;</button>
        </section>

        <!-- Feature Cards -->
        <section class="features-section" id="featuresSection">
            <h3 class="section-title">Explore Features</h3>
            
            <div class="features-grid">
                <div class="feature-card locked" data-feature="aggregated-balance">
                    <div class="feature-icon"><img src="icons/money.png" alt="Aggregated Balance"></div>
                    <h4>Aggregated Balance</h4>
                    <p>View all account balances across banks in one place, updated live.</p>
                    <span class="feature-badge locked">Locked</span>
                    <div class="feature-arrow">‚Üí</div>
                </div>

                <div class="feature-card locked" data-feature="cash-flow-forecasting">
                    <div class="feature-icon"><img src="icons/forecast-analytics.png" alt="Cash Flow Forecasting"></div>
                    <h4>Cash Flow Forecasting</h4>
                    <p>Predict cash position 7-90 days ahead with ML-powered insights.</p>
                    <span class="feature-badge locked">Locked</span>
                    <div class="feature-arrow">‚Üí</div>
                </div>

                <div class="feature-card locked" data-feature="automation-tools">
                    <div class="feature-icon"><img src="icons/cogwheel.png" alt="Automation Tools"></div>
                    <h4>Automation Tools</h4>
                    <p>Automate recurring payments, transfers, and financial operations.</p>
                    <span class="feature-badge locked">Locked</span>
                    <div class="feature-arrow">‚Üí</div>
                </div>

                <div class="feature-card locked" data-feature="business-navigator">
                    <div class="feature-icon"><img src="icons/compass.png" alt="Business Navigator"></div>
                    <h4>Business Navigator</h4>
                    <p>Get AI-powered insights for business growth, what-if analysis, and strategic planning.</p>
                    <span class="feature-badge locked">Locked</span>
                    <div class="feature-arrow">‚Üí</div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="upgradeModal">
            <div class="modal-header">
                <h3>Upgrade to Premium</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-content">
                <p>This feature requires a premium subscription. Connect additional bank accounts to unlock advanced insights and multi-bank visibility.</p>
                <button class="modal-btn primary">Upgrade Now</button>
                <button class="modal-btn secondary">Learn More</button>
            </div>
        </div>

        <div class="modal" id="connectBanksModal">
            <div class="modal-header">
                <h3>Connect Your Bank Accounts</h3>
                <button class="close-modal" id="closeBanksModal">&times;</button>
            </div>
            <div class="modal-content">
                <p>Connect your bank accounts securely to get a complete view of your business cash flow.</p>
                <div class="bank-grid">
                    <button class="bank-option">Chase</button>
                    <button class="bank-option">Wells Fargo</button>
                    <button class="bank-option">Bank of America</button>
                    <button class="bank-option">Citibank</button>
                    <button class="bank-option">US Bank</button>
                    <button class="bank-option">Other Banks</button>
                </div>
                <p class="security-note">üîí Your data is encrypted and secure. We never store your login credentials.</p>
            </div>
        </div>

        <!-- AI Chat Modal -->
        <div class="modal ai-chat-modal" id="aiChatModal">
            <div class="modal-header">
                <h3>Ask AI about your Cash Flow</h3>
                <button class="close-modal" id="closeAiModal">&times;</button>
            </div>
            <div class="modal-content ai-chat-content">
                <!-- Mini Chart -->
                <div class="ai-chart-container">
                    <canvas id="aiMiniChart" aria-label="Cash flow chart for AI analysis"></canvas>
                </div>
                
                <!-- Chat Interface -->
                <div class="ai-chat-interface">
                    <div class="chat-messages" id="chatMessages">
                        <div class="ai-message">
                            <div class="message-avatar">ü§ñ</div>
                            <div class="message-content">
                                <p>Hi! I'm your AI assistant. Ask me anything about your cash flow data, trends, or projections. For example:</p>
                                <ul class="example-questions">
                                    <li>"What's driving the expense spike in September?"</li>
                                    <li>"When should I expect positive cash flow?"</li>
                                    <li>"What if I reduce expenses by 15%?"</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" placeholder="Ask about your cash flow data..." class="chat-input">
                        <button id="sendChatBtn" class="send-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22,2 15,22 11,13 2,9"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip">
        <div class="tooltip-content"></div>
    </div>

    <div class="gradient-overlay" id="gradientOverlay">
        <div class="gradient-text">Welcome to a more personalized Business 360 experience</div>
    </div>

    <script src="script.js"></script>
</body>
</html>